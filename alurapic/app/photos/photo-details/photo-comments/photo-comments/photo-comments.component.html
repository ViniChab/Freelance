<div id="all" *ngIf = "(comment$ | async) as comments">
  <div id="comments">
    <ul class="list-unstyled">
        <li *ngFor="let comment of comments">
            <a 
                class="text-dark font-weight-bold mr-1" 
                [routerLink]="['/user', comment.userName]">
                    {{ comment.userName }}
            </a>
            <em>{{ comment.date | date:'dd-MM-yyyy HH:mm' }}</em>
            <p class="break-word mb-2">{{ comment.text }}</p>
        </li>
    </ul>
  </div>
  <div>
      <form [formGroup]="commentForm" (submit)="save()">
          <div  class="input-group">
              <textarea 
              formControlName="comment" 
              class="form-control"></textarea>         
                <ap-vmessage 
                    *ngIf="commentForm.get('comment').errors?.required">
                        </ap-vmessage>      
                            <ap-vmessage 
                        *ngIf="commentForm.get('comment').errors?.maxlength"
                    text="Maximun length is 100">
                </ap-vmessage>   
              <div>
                  <button [disabled]="commentForm.invalid || commentForm.pending"
                   type="submit" class="btn btn-primary pull-left">
                      Publish
                  </button>
              </div>
          </div>
      </form>
  </div>
</div>